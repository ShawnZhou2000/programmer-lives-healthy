<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<title>登录 - Programmer lives healthy</title>
		<link href="css/styles.css" rel="stylesheet" type="text/css" />
		<link href="css/custom.css" rel="stylesheet" type="text/css" />
		<link rel="icon" type="image/x-icon" href="assets/img/favicon.png" />
		<script src="https://cdn.bootcdn.net/ajax/libs/font-awesome/5.11.2/js/all.min.js"></script>
		<script src="https://cdn.bootcdn.net/ajax/libs/feather-icons/4.28.0/feather.min.js"></script>
	</head>
<!--	bg-primary-->
	<body class="bg-primary login-bg">
		<div id="layoutAuthentication">
			<div id="layoutAuthentication_content">
				<main>
					<div class="container">
						<div class="row justify-content-center">
							<div class="col-xl-5 col-lg-6 col-md-8 col-sm-11">
								<div class="card my-5 nitai2">
									<div class="card-body p-d1 text-center">
										<div class="h1 font-weight-light mb-3">程序员，活久点</div>
										<div class="h4 font-weight-light mb-4">和其他程序员一起锻炼吧</div>
										<img src="https://s1.ax1x.com/2020/06/27/N6jIC4.png" class="header-img img-fluid">
										<div class="h4 font-weight-light mt-3">请先登录</div>
									</div>
									<div class="card-body p-5">
										<form action="/login" method="post">
											<div class="form-group"><label class="text-gray-600 small">邮箱</label><input class="form-control form-control-solid py-4"
												 type="text" id="lginemail" aria-label="Email Address" aria-describedby="emailExample" name="email" /></div>
											<div class="form-group"><label class="text-gray-600 small">密码</label><input class="form-control form-control-solid py-4"
												 type="password" id="lginpswd" aria-label="Password" aria-describedby="passwordExample" name="password" /></div>
											<div class="form-group"><a class="small" href="/resetPassword">忘记密码？点击这里重置</a></div>
											<p th:text="${msg}" style="color: red" th:if="${not #strings.isEmpty(msg)}"></p>
											<div class="form-group d-flex align-items-center justify-content-between mb-0">
												<div class="custom-control custom-control-solid custom-checkbox"><input class="custom-control-input small"
													 id="flag" name="flag" type="checkbox" /><label class="custom-control-label" for="flag">记住密码</label></div>
												<button class="btn btn-primary" type="submit">登录</button>
											</div>
										</form>
									</div>
									<div class="card-body px-5 py-4">
										<div class="small text-center">还没有账户吗？<a href="/register">点这里注册一个</a></div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</main>
			</div>
			<div id="layoutAuthentication_footer">
				<footer class="footer mt-auto footer-dark">
					<div class="container-fluid">
						<div class="row">
							<div class="col-md-6 small">Copyright &copy; 2020 友人 & 饭盒君 联合出品</div>
						</div>
					</div>
				</footer>
			</div>
		</div>
		<script src="https://cdn.staticfile.org/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://cdn.staticfile.org/popper.js/1.15.0/umd/popper.min.js"></script>
		<script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
		<!-- <script src="js/scripts.js"></script> -->
		<script type="text/javascript">
			function getCookie(c_name) {
				//判断document.cookie对象里面是否存有cookie
				if (document.cookie.length > 0) {
					c_start = document.cookie.indexOf(c_name + "=")
					//如果document.cookie对象里面有cookie则查找是否有指定的cookie，如果有则返回指定的cookie值，如果没有则返回空字符串
					if (c_start != -1) {
						c_start = c_start + c_name.length + 1
						c_end = document.cookie.indexOf(";", c_start)
						if (c_end == -1) c_end = document.cookie.length
						return unescape(document.cookie.substring(c_start, c_end))
					}
				}
				return ""
			}
		
			window.onload = function() {
				let email = getCookie("email");
				let token = getCookie("token");
				document.getElementById("lginemail").value = email;
				document.getElementById("lginpswd").value = token;
			}
		</script>
	</body>
</html>
